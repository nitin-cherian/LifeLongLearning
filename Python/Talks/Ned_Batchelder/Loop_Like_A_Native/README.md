Based on Ned's talk 'Loop like a Native': https://www.youtube.com/watch?v=EnSu9hHGq5o